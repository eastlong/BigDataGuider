java核心知识（四）：枚举（一）
<!-- TOC -->

- [1. 枚举基本使用](#1-枚举基本使用)
    - [1.1. 使用场景](#11-使用场景)
        - [1.1.1. switch case](#111-switch-case)
    - [1.2. 枚举的包装](#12-枚举的包装)
- [2. 枚举用法总结](#2-枚举用法总结)
    - [2.1. 用法一：常量](#21-用法一常量)
    - [2.2. 用法二：switch](#22-用法二switch)
    - [2.3. 用法三：向枚举中添加新方法](#23-用法三向枚举中添加新方法)
    - [2.4. 方法四：覆盖枚举的方法](#24-方法四覆盖枚举的方法)

<!-- /TOC -->

# 1. 枚举基本使用
## 1.1. 使用场景
### 1.1.1. switch case
在现实社会中，有些类的实例对象是固定的。例如季节，只有春夏秋冬。如果你创建了一个season类，你当然有义务维护这个类的实例对象只能是春（SPRING）、夏（SUMMER）、秋（AUTUMN）、冬（WINTER）这四个。这个时候就体现出枚举类的作用了，java中枚举类型就是针对这样的场景需求所设计的。
```java
/**
 * 枚举类的后缀建议为Enum，枚举类型的实例对象建议全大写（这样做符合JAVA的规范）
 */
public enum SeasonEnum{  
  SPRING,SUMMER,AUTUMN,WINTER
}
```
使用SeasonEnum这个枚举类。
```java
package com.base.enumstart;

import org.junit.Test;
import static com.base.enumstart.SeasonEnum.SUMMER;

public class SeasonEnumTest {
    @Test
    public void testSeasonEnum(){
       String summer = "SUMMER";

       SeasonEnum seasonNow = SeasonEnum.valueOf(summer);
       SeasonEnum seasonPerfet = SeasonEnum.SPRING;

       switch (seasonPerfet){
           case SPRING:
               System.out.println("春天");
               break;
           case SUMMER:
               System.out.println("夏天");
               break;
           case AUTUMN:
               System.out.println("秋天");
               break;
           case WINTER:
               System.out.println("冬天");
               break;
       }
    }
}
```
## 1.2. 枚举的包装
创建SeasonEnum枚举类，在使用的时候利用switch语句进行匹配从而得到相应的输出值，这种做法很常见。如果只需要实现这样的功能，定义一个常量类也可以实现。那么就让我们更进一步来看看枚举类的作用。  
针对上面的例子，如果我们在很多场景下都要通过SeasonEnum的实例对象获取相对应的中文，每次都使用switch语句就显得代码冗余。我们这样设想一下，当我们创建SeasonEnum这个枚举类时，可不可以让SeasonEnum中的每一个实例对象都有一个getChinese()方法呢。答案是肯定的，而且这种做法在企业开发中很常见。
```java
package com.base.enumstart;

import org.junit.Test;
public enum SeasonEnum2 {
    SPRING("春天"),SUMMER("夏天"),AUMUTN("秋天"),WINTER("冬天");

    private String chinese;
    //枚举类型的构造函数默认为private，因为枚举类型的初始化要在当前枚举类中完成。
    SeasonEnum2 (String chinese){
        this.chinese= chinese;
    }
    public String getChinese(){
        return chinese;
    }
}
```
测试用例
```java
package com.base.enumstart;
import org.junit.Test;

import static com.base.enumstart.SeasonEnum.SUMMER;
public class SeasonEnumTest {
    @Test
    public void testSeasonEnum2(){
        SeasonEnum2 season1 = SeasonEnum2.SPRING;
        System.out.println(season1.getChinese());

    }
}
```
# 2. 枚举用法总结
## 2.1. 用法一：常量
在JDK1.5 之前，我们定义常量都是： public static final.... 。现在好了，有了枚举，可以把相关的常量分组到一个枚举类型里，而且枚举提供了比常量更多的方法。
```java
public enum Color {
    RED, GREEN, BLANK, YELLOW;
}
```
测试方法：
```java
public class ColerTest {

    @Test
    public void testColor(){
        System.out.println(Color.valueOf("RED"));
    }
}
```

## 2.2. 用法二：switch
JDK1.6之前的switch语句只支持int,char,enum类型，使用枚举，能让我们的代码可读性更强。
```java
public class TrafficLight{
    Signal color = Signal.RED;
    public void change(){
        switch (color){
            case RED:
                color = Signal.GREEN;
                break;
            case YELLOW:
                color = Signal.RED;
            case GREEN:
                color = Signal.YELLOW;
        }
    }
}
```
## 2.3. 用法三：向枚举中添加新方法
可以在枚举类中自定义方法，此时`必须在enum实例序列的最后添加一个分号`。  
而且 Java 要求必须先定义 enum 实例。 
```java
package com.base.enumstart;

public enum Color {
    RED("红色",1),GREEN("绿色",2),BLACK("黑色",3),YELLOW("黄色",4);

    private String name;
    private int index;

    private Color(String name, int index) {
        this.name = name;
        this.index = index;
    }
    public static String getName(int index){
        for(Color c : Color.values()){
            if(c.getIndex() == index){
                return c.name;
            }
        }
        return null;
    }
    //getter 和 setter
}
```

测试方法：
```java
package com.base.enumstart;

import org.junit.Test;

/**
 * function:
 * Producered by xiaolong_wu on 2019/8/31
 **/
public class ColorTest {
    @Test
    public void testColor(){
        String color = "BLACK";
        Color lastColor = Color.valueOf(color);
        switch (lastColor){
            case BLACK:
                System.out.println("do Something with:" + lastColor.getName() + "and index is " + lastColor.getIndex());
                break;
            case RED:
                System.out.println("选红色" + lastColor.getName());
                break;
            case GREEN:
                System.out.println("选绿色");
                break;
            case YELLOW:
                System.out.println("选黄色");
                break;
        }

        System.out.println("向枚举中添加新方法的测试：" + lastColor.getName(1));
        lastColor.getName(1);
    }
}
```
## 2.4. 方法四：覆盖枚举的方法
下面给出一个toString()方法覆盖的例子。
```java
public enum Color {  
    RED("红色", 1), GREEN("绿色", 2), BLANK("白色", 3), YELLO("黄色", 4);  
    // 成员变量  
    private String name;  
    private int index;  
    // 构造方法  
    private Color(String name, int index) {  
        this.name = name;  
        this.index = index;  
    }  
    //覆盖方法  
    @Override  
    public String toString() {  
        return this.index+"_"+this.name;  
    }  
}  
```


【参考文档】  
[JAVA枚举类型（Enum）的使用](https://blog.csdn.net/cauchy6317/article/details/82313088)  
[Java 枚举(enum) 详解7种常见的用法](https://blog.csdn.net/qq_27093465/article/details/52180865)  

